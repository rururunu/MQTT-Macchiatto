# 开发初衷

## 为什么要开发 MQTT Macchiatto？

在日常的 Spring Boot 项目开发中，我们经常需要与 MQTT 消息队列进行交互。然而，传统的 MQTT 客户端使用方式往往存在以下痛点：

### 🤔 开发痛点

**1. 配置复杂**
- 需要手动创建 MQTT 客户端实例
- 连接参数配置繁琐，容易出错
- 缺乏统一的配置管理方式

**2. 代码冗余**
- 每次发送消息都需要重复的样板代码
- 消息监听器的注册和管理复杂
- 异常处理和重连逻辑需要重复实现

**3. 维护困难**
- 连接状态管理复杂
- 缺乏统一的日志和监控
- 多个 MQTT 服务连接时管理混乱

**4. 学习成本高**
- 需要深入了解 MQTT 协议细节
- Eclipse Paho 客户端 API 相对复杂
- 缺乏开箱即用的最佳实践

### 💡 解决方案

基于这些痛点，我们决定开发 MQTT Macchiatto，一个专为 Spring Boot 设计的 MQTT 封装工具：

**简化配置**
```yaml
# 只需要简单的配置
mqtt:
  macchiatto:
    broker: tcp://localhost:1883
    client-id: my-client
    username: admin
    password: password
```

**优雅的 API**
```java
// 发送消息只需一行代码
mqttPush.push("topic/test", "Hello World", MQTTQos.AT_LEAST_ONCE);

// 一行订阅 + 一行处理 + 一行启动
MqttPut.of("demo/hello")
    .response((topic, msg) -> System.out.println("收到: " + msg))
    .start();
```

**自动化管理**
- 自动连接管理和重连
- 统一的异常处理
- 内置的监控和日志

### 🎯 设计目标

**1. 开箱即用**
- 零配置启动（使用默认配置）
- 自动装配和依赖注入
- 内置最佳实践

**2. 简洁优雅**
- 注解驱动的开发方式
- 链式调用的流畅 API
- 符合 Spring Boot 设计理念

**3. 功能完整**
- 支持所有 MQTT QoS 等级
- 支持多服务连接
- 支持消息过滤和路由

**4. 生产就绪**
- 内置重连机制
- 完善的错误处理
- 性能监控和指标

### 🌟 命名由来

**Macchiatto（玛奇朵）** 是一种意式咖啡，以其层次分明、口感顺滑而著名。我们希望 MQTT Macchiatto 也能像一杯精心调制的玛奇朵一样：

- **层次分明**：清晰的架构设计，职责明确
- **口感顺滑**：流畅的开发体验，简洁的 API
- **精心调制**：经过深思熟虑的设计和优化
- **回味无穷**：让开发者爱上 MQTT 开发

### 🚀 发展历程

**v0.1.0** - 初始版本
- 基础的消息发送和接收功能
- 简单的配置管理

**v0.1.1** - 功能增强
- 添加多服务连接支持
- 优化重连机制

**v0.1.2** - 稳定性提升
- 修复已知问题
- 增强错误处理

**v0.1.3** - 性能优化
- 完善文档系统
- 添加更多示例
- 性能优化

**v0.1.4** - 优化重连
- 增强重连
- 增强 `MqttPut`

**v0.1.5** - 优化监听(当前版本)
- 优化 `MqttPut` 的调用书写体验
- 修复文档中的遗漏和错误

### 🤝 社区贡献

MQTT Macchiatto 是一个开源项目，我们欢迎社区的贡献和反馈：

- **Bug 报告**：帮助我们发现和修复问题
- **功能建议**：提出新的功能需求
- **代码贡献**：提交 Pull Request
- **文档改进**：完善文档和示例

### 📞 联系我们

如果你在使用过程中遇到问题，或者有任何建议，欢迎联系我们：

- **Email**：guolvaita@gmail.com
- **WeChat**：AfterTheMoonlight
- **GitHub Issues**：[提交问题](https://github.com/rururunu/MQTT-Macchiatto/issues)

---

> 💡 **开发者寄语**
> 
> 希望 MQTT Macchiatto 能够让你的 MQTT 开发变得更加简单和愉快。如果这个项目对你有帮助，请给我们一个 ⭐ Star，这是对我们最大的鼓励！